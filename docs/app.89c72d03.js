parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"u8ui":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Component=y,exports.Fragment=v,exports.cloneElement=V,exports.createContext=I,exports.h=exports.createElement=a,exports.createRef=h,exports.hydrate=R,exports.render=O,exports.toChildArray=P,exports.options=exports.isValidElement=void 0;var e,n,t,_,o,l,r,i,u={},s=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,n){for(var t in n)e[t]=n[t];return e}function f(e){var n=e.parentNode;n&&n.removeChild(e)}function a(n,t,_){var o,l,r,i={};for(r in t)"key"==r?o=t[r]:"ref"==r?l=t[r]:i[r]=t[r];if(arguments.length>2&&(i.children=arguments.length>3?e.call(arguments,2):_),"function"==typeof n&&null!=n.defaultProps)for(r in n.defaultProps)void 0===i[r]&&(i[r]=n.defaultProps[r]);return d(n,i,o,l,null)}function d(e,_,o,l,r){var i={type:e,props:_,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++t:r};return null==r&&null!=n.vnode&&n.vnode(i),i}function h(){return{current:null}}function v(e){return e.children}function y(e,n){this.props=e,this.context=n}function m(e,n){if(null==n)return e.__?m(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?m(e):null}function g(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return g(e)}}function k(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!b.__r++||l!==n.debounceRendering)&&((l=n.debounceRendering)||r)(b)}function b(){var e,n,t,_,l,r,i,u;for(o.sort(function(e,n){return e.__v.__b-n.__v.__b});e=o.shift();)e.__d&&(n=o.length,_=void 0,l=void 0,i=(r=(t=e).__v).__e,(u=t.__P)&&(_=[],(l=p({},r)).__v=r.__v+1,M(u,r,l,t.__n,void 0!==u.ownerSVGElement,null!=r.__h?[i]:null,_,null==i?m(r):i,r.__h),N(_,r),r.__e!=i&&g(r)),o.length>n&&o.sort(function(e,n){return e.__v.__b-n.__v.__b}));b.__r=0}function x(e,n,t,_,o,l,r,i,c,p){var f,a,h,y,g,k,b,x=_&&_.__k||s,P=x.length;for(t.__k=[],f=0;f<n.length;f++)if(null!=(y=t.__k[f]=null==(y=n[f])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?d(null,y,null,null,y):Array.isArray(y)?d(v,{children:y},null,null,null):y.__b>0?d(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)){if(y.__=t,y.__b=t.__b+1,null===(h=x[f])||h&&y.key==h.key&&y.type===h.type)x[f]=void 0;else for(a=0;a<P;a++){if((h=x[a])&&y.key==h.key&&y.type===h.type){x[a]=void 0;break}h=null}M(e,y,h=h||u,o,l,r,i,c,p),g=y.__e,(a=y.ref)&&h.ref!=a&&(b||(b=[]),h.ref&&b.push(h.ref,null,y),b.push(a,y.__c||g,y)),null!=g?(null==k&&(k=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=c=C(y,c,e):c=S(e,y,h,x,g,c),"function"==typeof t.type&&(t.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=m(h))}for(t.__e=k,f=P;f--;)null!=x[f]&&("function"==typeof t.type&&null!=x[f].__e&&x[f].__e==t.__d&&(t.__d=E(_).nextSibling),F(x[f],x[f]));if(b)for(f=0;f<b.length;f++)L(b[f],b[++f],b[++f])}function C(e,n,t){for(var _,o=e.__k,l=0;o&&l<o.length;l++)(_=o[l])&&(_.__=e,n="function"==typeof _.type?C(_,n,t):S(t,_,_,o,_.__e,n));return n}function P(e,n){return n=n||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){P(e,n)}):n.push(e)),n}function S(e,n,t,_,o,l){var r,i,u;if(void 0!==n.__d)r=n.__d,n.__d=void 0;else if(null==t||o!=l||null==o.parentNode)e:if(null==l||l.parentNode!==e)e.appendChild(o),r=null;else{for(i=l,u=0;(i=i.nextSibling)&&u<_.length;u+=1)if(i==o)break e;e.insertBefore(o,l),r=l}return void 0!==r?r:o.nextSibling}function E(e){var n,t,_;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(n=e.__k.length-1;n>=0;n--)if((t=e.__k[n])&&(_=E(t)))return _;return null}function w(e,n,t,_,o){var l;for(l in t)"children"===l||"key"===l||l in n||A(e,l,null,t[l],_);for(l in n)o&&"function"!=typeof n[l]||"children"===l||"key"===l||"value"===l||"checked"===l||t[l]===n[l]||A(e,l,n[l],t[l],_)}function U(e,n,t){"-"===n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||c.test(n)?t:t+"px"}function A(e,n,t,_,o){var l;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||U(e.style,n,"");if(t)for(n in t)_&&t[n]===_[n]||U(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])l=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=t,t?_||e.addEventListener(n,l?T:D,l):e.removeEventListener(n,l?T:D,l);else if("dangerouslySetInnerHTML"!==n){if(o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==n&&"height"!==n&&"href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&-1==n.indexOf("-")?e.removeAttribute(n):e.setAttribute(n,t))}}function D(e){return this.l[e.type+!1](n.event?n.event(e):e)}function T(e){return this.l[e.type+!0](n.event?n.event(e):e)}function M(e,t,_,o,l,r,i,u,s){var c,f,a,d,h,m,g,k,b,C,P,S,E,w,U,A=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(s=_.__h,u=t.__e=_.__e,t.__h=null,r=[u]),(c=n.__b)&&c(t);try{e:if("function"==typeof A){if(k=t.props,b=(c=A.contextType)&&o[c.__c],C=c?b?b.props.value:c.__:o,_.__c?g=(f=t.__c=_.__c).__=f.__E:("prototype"in A&&A.prototype.render?t.__c=f=new A(k,C):(t.__c=f=new y(k,C),f.constructor=A,f.render=H),b&&b.sub(f),f.props=k,f.state||(f.state={}),f.context=C,f.__n=o,a=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=A.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,A.getDerivedStateFromProps(k,f.__s))),d=f.props,h=f.state,f.__v=t,a)null==A.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==A.getDerivedStateFromProps&&k!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,C),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,C)||t.__v===_.__v){for(t.__v!==_.__v&&(f.props=k,f.state=f.__s,f.__d=!1),f.__e=!1,t.__e=_.__e,t.__k=_.__k,t.__k.forEach(function(e){e&&(e.__=t)}),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[],f.__h.length&&i.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,C),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(d,h,m)})}if(f.context=C,f.props=k,f.__P=e,S=n.__r,E=0,"prototype"in A&&A.prototype.render){for(f.state=f.__s,f.__d=!1,S&&S(t),c=f.render(f.props,f.state,f.context),w=0;w<f._sb.length;w++)f.__h.push(f._sb[w]);f._sb=[]}else do{f.__d=!1,S&&S(t),c=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++E<25);f.state=f.__s,null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(d,h)),U=null!=c&&c.type===v&&null==c.key?c.props.children:c,x(e,Array.isArray(U)?U:[U],t,_,o,l,r,i,u,s),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==r&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=W(_.__e,t,_,o,l,r,i,s);(c=n.diffed)&&c(t)}catch(e){t.__v=null,(s||null!=r)&&(t.__e=u,t.__h=!!s,r[r.indexOf(u)]=null),n.__e(e,t,_)}}function N(e,t){n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function W(n,t,_,o,l,r,i,s){var c,p,a,d=_.props,h=t.props,v=t.type,y=0;if("svg"===v&&(l=!0),null!=r)for(;y<r.length;y++)if((c=r[y])&&"setAttribute"in c==!!v&&(v?c.localName===v:3===c.nodeType)){n=c,r[y]=null;break}if(null==n){if(null===v)return document.createTextNode(h);n=l?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),r=null,s=!1}if(null===v)d===h||s&&n.data===h||(n.data=h);else{if(r=r&&e.call(n.childNodes),p=(d=_.props||u).dangerouslySetInnerHTML,a=h.dangerouslySetInnerHTML,!s){if(null!=r)for(d={},y=0;y<n.attributes.length;y++)d[n.attributes[y].name]=n.attributes[y].value;(a||p)&&(a&&(p&&a.__html==p.__html||a.__html===n.innerHTML)||(n.innerHTML=a&&a.__html||""))}if(w(n,h,d,l,s),a)t.__k=[];else if(y=t.props.children,x(n,Array.isArray(y)?y:[y],t,_,o,l&&"foreignObject"!==v,r,i,r?r[0]:_.__k&&m(_,0),s),null!=r)for(y=r.length;y--;)null!=r[y]&&f(r[y]);s||("value"in h&&void 0!==(y=h.value)&&(y!==n.value||"progress"===v&&!y||"option"===v&&y!==d.value)&&A(n,"value",y,d.value,!1),"checked"in h&&void 0!==(y=h.checked)&&y!==n.checked&&A(n,"checked",y,d.checked,!1))}return n}function L(e,t,_){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,_)}}function F(e,t,_){var o,l;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||L(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(l=0;l<o.length;l++)o[l]&&F(o[l],t,_||"function"!=typeof e.type);_||null==e.__e||f(e.__e),e.__=e.__e=e.__d=void 0}function H(e,n,t){return this.constructor(e,t)}function O(t,_,o){var l,r,i;n.__&&n.__(t,_),r=(l="function"==typeof o)?null:o&&o.__k||_.__k,i=[],M(_,t=(!l&&o||_).__k=a(v,null,[t]),r||u,u,void 0!==_.ownerSVGElement,!l&&o?[o]:r?null:_.firstChild?e.call(_.childNodes):null,i,!l&&o?o:r?r.__e:_.firstChild,l),N(i,t)}function R(e,n){O(e,n,R)}function V(n,t,_){var o,l,r,i=p({},n.props);for(r in t)"key"==r?o=t[r]:"ref"==r?l=t[r]:i[r]=t[r];return arguments.length>2&&(i.children=arguments.length>3?e.call(arguments,2):_),d(n.type,i,o||n.key,l||n.ref,null)}function I(e,n){var t={__c:n="__cC"+i++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var t,_;return this.getChildContext||(t=[],(_={})[n]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(function(e){e.__e=!0,k(e)})},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Provider.__=t.Consumer.contextType=t}exports.isValidElement=_,exports.options=n,e=s.slice,exports.options=n={__e:function(e,n,t,_){for(var o,l,r;n=n.__;)if((o=n.__c)&&!o.__)try{if((l=o.constructor)&&null!=l.getDerivedStateFromError&&(o.setState(l.getDerivedStateFromError(e)),r=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,_||{}),r=o.__d),r)return o.__E=o}catch(n){e=n}throw e}},t=0,exports.isValidElement=_=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},t),this.props)),e&&p(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),k(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},y.prototype.render=v,o=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,i=0;
},{}],"I8Gw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsxs=exports.jsxDEV=exports.jsx=o,Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return e.Fragment}});var e=require("preact"),r=0;function o(o,t,n,_,s,u){var i,l,p={};for(l in t)"ref"==l?i=t[l]:p[l]=t[l];var f={type:o,props:p,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--r,__source:s,__self:u};if("function"==typeof o&&(i=o.defaultProps))for(l in i)void 0===p[l]&&(p[l]=i[l]);return e.options.vnode&&e.options.vnode(f),f}
},{"preact":"u8ui"}],"EQlm":[function(require,module,exports) {
!function(t){"use strict";var o,e=t.Uint8Array,n=t.HTMLCanvasElement,s=n&&n.prototype,i=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",l=function(t){for(var n,s,i=t.length,a=new e(i/4*3|0),l=0,b=0,r=[0,0],f=0,B=0;i--;)s=t.charCodeAt(l++),255!==(n=o[s-43])&&void 0!==n&&(r[1]=r[0],r[0]=s,B=B<<6|n,4===++f&&(a[b++]=B>>>16,61!==r[1]&&(a[b++]=B>>>8),61!==r[0]&&(a[b++]=B),f=0));return a};e&&(o=new e([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!n||s.toBlob&&s.toBlobHD||(s.toBlob||(s.toBlob=function(t,o){if(o||(o="image/png"),this.mozGetAsFile)t(this.mozGetAsFile("canvas",o));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(o))t(this.msToBlob());else{var n,s=Array.prototype.slice.call(arguments,1),b=this[a].apply(this,s),r=b.indexOf(","),f=b.substring(r+1),B=i.test(b.substring(0,r));Blob.fake?((n=new Blob).encoding=B?"base64":"URI",n.data=f,n.size=f.length):e&&(n=B?new Blob([l(f)],{type:o}):new Blob([decodeURIComponent(f)],{type:o})),t(n)}}),!s.toBlobHD&&s.toDataURLHD?s.toBlobHD=function(){a="toDataURLHD";var t=this.toBlob();return a="toDataURL",t}:s.toBlobHD=s.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);
},{}],"i0aF":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"function"==typeof e&&e.amd?e([],n):"undefined"!=typeof exports?n():(n(),t.FileSaver={})}(this,function(){"use strict";function e(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){r(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,i,r){var s=a.URL||a.webkitURL,c=document.createElement("a");i=i||t.name||"download",c.download=i,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):n(c.href)?e(t,i,r):o(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(t,i),a);else if(n(t))e(t,a,i);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){o(r)})}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var s="application/octet-stream"===t.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(t)}else{var f=a.URL||a.webkitURL,d=f.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});a.saveAs=r.saveAs=r,"undefined"!=typeof module&&(module.exports=r)});
},{}],"qsmZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCallback=y,exports.useContext=N,exports.useDebugValue=V,exports.useEffect=m,exports.useErrorBoundary=b,exports.useId=g,exports.useImperativeHandle=x,exports.useLayoutEffect=d,exports.useMemo=E,exports.useReducer=l,exports.useRef=H,exports.useState=v;var _,n,t,o,r=require("preact"),e=0,u=[],i=[],c=r.options.__b,f=r.options.__r,s=r.options.diffed,a=r.options.__c,p=r.options.unmount;function h(_,t){r.options.__h&&r.options.__h(n,_,e||t),e=0;var o=n.__H||(n.__H={__:[],__h:[]});return _>=o.__.length&&o.__.push({__V:i}),o.__[_]}function v(_){return e=1,l(T,_)}function l(t,o,r){var e=h(_++,2);if(e.t=t,!e.__c&&(e.__=[r?r(o):T(void 0,o),function(_){var n=e.__N?e.__N[0]:e.__[0],t=e.t(n,_);n!==t&&(e.__N=[t,e.__[1]],e.__c.setState({}))}],e.__c=n,!n.u)){n.u=!0;var u=n.shouldComponentUpdate;n.shouldComponentUpdate=function(_,n,t){if(!e.__c.__H)return!0;var o=e.__c.__H.__.filter(function(_){return _.__c});if(o.every(function(_){return!_.__N}))return!u||u.call(this,_,n,t);var r=!1;return o.forEach(function(_){if(_.__N){var n=_.__[0];_.__=_.__N,_.__N=void 0,n!==_.__[0]&&(r=!0)}}),!(!r&&e.__c.props===_)&&(!u||u.call(this,_,n,t))}}return e.__N||e.__}function m(t,o){var e=h(_++,3);!r.options.__s&&P(e.__H,o)&&(e.__=t,e.i=o,n.__H.__h.push(e))}function d(t,o){var e=h(_++,4);!r.options.__s&&P(e.__H,o)&&(e.__=t,e.i=o,n.__h.push(e))}function H(_){return e=5,E(function(){return{current:_}},[])}function x(_,n,t){e=6,d(function(){return"function"==typeof _?(_(n()),function(){return _(null)}):_?(_.current=n(),function(){return _.current=null}):void 0},null==t?t:t.concat(_))}function E(n,t){var o=h(_++,7);return P(o.__H,t)?(o.__V=n(),o.i=t,o.__h=n,o.__V):o.__}function y(_,n){return e=8,E(function(){return _},n)}function N(t){var o=n.context[t.__c],r=h(_++,9);return r.c=t,o?(null==r.__&&(r.__=!0,o.sub(n)),o.props.value):t.__}function V(_,n){r.options.useDebugValue&&r.options.useDebugValue(n?n(_):_)}function b(t){var o=h(_++,10),r=v();return o.__=t,n.componentDidCatch||(n.componentDidCatch=function(_,n){o.__&&o.__(_,n),r[1](_)}),[r[0],function(){r[1](void 0)}]}function g(){var t=h(_++,11);if(!t.__){for(var o=n.__v;null!==o&&!o.__m&&null!==o.__;)o=o.__;var r=o.__m||(o.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function C(){for(var _;_=u.shift();)if(_.__P&&_.__H)try{_.__H.__h.forEach(D),_.__H.__h.forEach(F),_.__H.__h=[]}catch(n){_.__H.__h=[],r.options.__e(n,_.__v)}}r.options.__b=function(_){n=null,c&&c(_)},r.options.__r=function(o){f&&f(o),_=0;var r=(n=o.__c).__H;r&&(t===n?(r.__h=[],n.__h=[],r.__.forEach(function(_){_.__N&&(_.__=_.__N),_.__V=i,_.__N=_.i=void 0})):(r.__h.forEach(D),r.__h.forEach(F),r.__h=[])),t=n},r.options.diffed=function(_){s&&s(_);var e=_.__c;e&&e.__H&&(e.__H.__h.length&&(1!==u.push(e)&&o===r.options.requestAnimationFrame||((o=r.options.requestAnimationFrame)||A)(C)),e.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.__V!==i&&(_.__=_.__V),_.i=void 0,_.__V=i})),t=n=null},r.options.__c=function(_,n){n.some(function(_){try{_.__h.forEach(D),_.__h=_.__h.filter(function(_){return!_.__||F(_)})}catch(t){n.some(function(_){_.__h&&(_.__h=[])}),n=[],r.options.__e(t,_.__v)}}),a&&a(_,n)},r.options.unmount=function(_){p&&p(_);var n,t=_.__c;t&&t.__H&&(t.__H.__.forEach(function(_){try{D(_)}catch(_){n=_}}),t.__H=void 0,n&&r.options.__e(n,t.__v))};var q="function"==typeof requestAnimationFrame;function A(_){var n,t=function(){clearTimeout(o),q&&cancelAnimationFrame(n),setTimeout(_)},o=setTimeout(t,100);q&&(n=requestAnimationFrame(t))}function D(_){var t=n,o=_.__c;"function"==typeof o&&(_.__c=void 0,o()),n=t}function F(_){var t=n;_.__c=_.__(),n=t}function P(_,n){return!_||_.length!==n.length||n.some(function(n,t){return n!==_[t]})}function T(_,n){return"function"==typeof n?n(_):n}
},{"preact":"u8ui"}],"ucH8":[function(require,module,exports) {
module.exports={name:"sketch-to-lineart",version:"1.9.1",description:"tool for converting sketches to transparent lineart",main:"index.js",scripts:{start:"parcel index.html",build:"npm run build:cleanup && npm run build:parcel && npm run build:sw","build:cleanup":"rm -rf .cache && rm -rf docs","build:parcel":"parcel build index.html -d docs --no-source-maps --public-url ./","build:sw":"workbox generateSW",postversion:"npm run build"},author:"Sean S. LeBlanc <sean.s.leblanc@gmail.com>",license:"MIT",repository:{type:"git",url:"git://github.com/seleb/sketch-to-lineart.git"},devDependencies:{"@types/file-saver":"^2.0.5",parcel:"^1.12.4","parcel-bundler":"^1.12.5",typescript:"^4.9.5","workbox-cli":"^6.5.4"},dependencies:{"babel-polyfill":"^6.26.0","canvas-toBlob":"^1.0.0","dialog-polyfill":"^0.5.6","file-saver":"^2.0.5",preact:"^10.13.0","reset-css":"^5.0.1"},release:{branches:["+([0-9])?(.{+([0-9]),x}).x","main"],plugins:["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator","@semantic-release/changelog",["@semantic-release/npm",{npmPublish:!1}],"@semantic-release/github",["@semantic-release/git",{assets:["docs/*","README.md","CHANGELOG.md","package.json","package-lock.json"]}]]}};
},{}],"gT7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=window.CustomEvent;function t(e,t){var o="on"+t.type.toLowerCase();return"function"==typeof e[o]&&e[o](t),e.dispatchEvent(t)}function o(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),o=function(e,o){return!(void 0===t[e]||t[e]===o)};if(t.opacity<1||o("zIndex","auto")||o("transform","none")||o("mixBlendMode","normal")||o("filter","none")||o("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1}function i(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement?e.parentElement:e.parentNode?e.parentNode.host:null}return null}function n(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function a(e,t){for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1}function r(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function s(e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])');var o=e.querySelector(t.join(", "));if(!o&&"attachShadow"in Element.prototype)for(var i=e.querySelectorAll("*"),n=0;n<i.length&&!(i[n].tagName&&i[n].shadowRoot&&(o=s(i[n].shadowRoot)));n++);return o}function l(e){return e.isConnected||document.body.contains(e)}function d(e){if(e.submitter)return e.submitter;var t=e.target;if(!(t instanceof HTMLFormElement))return null;var o=h.formSubmitter;if(!o){var i=e.target;o=("getRootNode"in i&&i.getRootNode()||document).activeElement}return o&&o.form===t?o:null}function u(e){if(!e.defaultPrevented){var t=e.target,o=h.imagemapUseValue,n=d(e);null===o&&n&&(o=n.value);var a=i(t);if(a)"dialog"===(n&&n.getAttribute("formmethod")||t.getAttribute("method"))&&(e.preventDefault(),null!=o?a.close(o):a.close())}}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",u,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,o=!1,i=function(){o?this.downgradeModal():this.maybeHideModal(),o=!1}.bind(this),n=function(n){if(n.target===e){var a="DOMNodeRemoved";o|=n.type.substr(0,a.length)===a,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,n)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}e&&"object"!=typeof e||((e=function(e,t){t=t||{};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),o}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&l(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),h.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var o=document.createEvent("MouseEvents");o.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(o),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=s(this.dialog_)),n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!l(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!h.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");o(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,h.needsCentering(this.dialog_)?(h.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(o){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==o&&(this.dialog_.returnValue=o);var i=new e("close",{bubbles:!1,cancelable:!1});t(this.dialog_,i)}};var h={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,o=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,o)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var o=document.styleSheets[t],i=null;try{i=o.cssRules}catch(u){}if(i)for(var n=0;n<i.length;++n){var r=i[n],s=null;try{s=document.querySelectorAll(r.selectorText)}catch(u){}if(s&&a(s,e)){var l=r.style.getPropertyValue("top"),d=r.style.getPropertyValue("bottom");if(l&&"auto"!==l||d&&"auto"!==d)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!h.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||h.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var o=[];t.forEach(function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&o.push(t),o=o.concat(t.querySelectorAll("dialog")))}),o.length&&e(o)}))}};if(h.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},h.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},h.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,o=0;e=this.pendingDialogStack[o];++o)e.updateZIndex(--t,--t),0===o&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},h.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=i(e);){for(var t,o=0;t=this.pendingDialogStack[o];++o)if(t.dialog===e)return 0===o;e=e.parentElement}return!1},h.DialogManager.prototype.handleFocus_=function(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(t)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),n(t),void 0!==this.forwardTab_)){var o=this.pendingDialogStack[0];return o.dialog.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?o.focus_():t!==document.documentElement&&document.documentElement.focus()),!1}},h.DialogManager.prototype.handleKey_=function(o){if(this.forwardTab_=void 0,27===o.keyCode){o.preventDefault(),o.stopPropagation();var i=new e("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&t(n.dialog,i)&&n.dialog.close()}else 9===o.keyCode&&(this.forwardTab_=!o.shiftKey)},h.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},h.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},h.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},h.dm=new h.DialogManager,h.formSubmitter=null,h.imagemapUseValue=null,void 0===window.HTMLDialogElement){var p=document.createElement("form");if(p.setAttribute("method","dialog"),"dialog"!==p.method){var g=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(g){var m=g.get;g.get=function(){return r(this)?"dialog":m.call(this)};var f=g.set;g.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",g)}}document.addEventListener("click",function(e){if(h.formSubmitter=null,h.imagemapUseValue=null,!e.defaultPrevented){var t=e.target;if("composedPath"in e)t=e.composedPath().shift()||t;if(t&&r(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;h.imagemapUseValue=e.offsetX+","+e.offsetY}i(t)&&(h.formSubmitter=t)}}},!1),document.addEventListener("submit",function(e){var t=e.target;if(!i(t)){var o=d(e);"dialog"===(o&&o.getAttribute("formmethod")||t.getAttribute("method"))&&e.preventDefault()}});var b=HTMLFormElement.prototype.submit,v=function(){if(!r(this))return b.call(this);var e=i(this);e&&e.close()};HTMLFormElement.prototype.submit=v}var y=h;exports.default=y;
},{}],"oSOp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={Children:!0,PureComponent:!0,StrictMode:!0,Suspense:!0,SuspenseList:!0,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:!0,cloneElement:!0,createFactory:!0,createPortal:!0,findDOMNode:!0,flushSync:!0,forwardRef:!0,hydrate:!0,isValidElement:!0,lazy:!0,memo:!0,render:!0,startTransition:!0,unmountComponentAtNode:!0,unstable_batchedUpdates:!0,useDeferredValue:!0,useInsertionEffect:!0,useSyncExternalStore:!0,useTransition:!0,version:!0,Component:!0,Fragment:!0,createContext:!0,createElement:!0,createRef:!0};exports.PureComponent=i,exports.Suspense=v,exports.SuspenseList=E,exports.cloneElement=z,exports.createFactory=$,exports.createPortal=O,exports.findDOMNode=Y,exports.forwardRef=_,exports.hydrate=L,exports.isValidElement=B,exports.lazy=x,exports.memo=a,exports.render=k,exports.startTransition=J,exports.unmountComponentAtNode=H,exports.useDeferredValue=K,exports.useSyncExternalStore=ee,exports.useTransition=Q,Object.defineProperty(exports,"Component",{enumerable:!0,get:function(){return t.Component}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return t.Fragment}}),Object.defineProperty(exports,"createContext",{enumerable:!0,get:function(){return t.createContext}}),Object.defineProperty(exports,"createElement",{enumerable:!0,get:function(){return t.createElement}}),Object.defineProperty(exports,"createRef",{enumerable:!0,get:function(){return t.createRef}}),exports.version=exports.useInsertionEffect=exports.unstable_batchedUpdates=exports.flushSync=exports.default=exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=exports.StrictMode=exports.Children=void 0;var t=require("preact"),n=require("preact/hooks");function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function u(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function i(e){this.props=e}function a(e,n){function r(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:o(this.props,e)}function u(n){return this.shouldComponentUpdate=r,(0,t.createElement)(e,n)}return u.displayName="Memo("+(e.displayName||e.name)+")",u.prototype.isReactComponent=!0,u.__f=!0,u}Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===n[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return n[t]}}))}),(i.prototype=new t.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var l=t.options.__b;t.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var s="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _(e){function t(t){var n=r({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=s,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var c=function(e,n){return null==e?null:(0,t.toChildArray)((0,t.toChildArray)(e).map(n))},p={map:c,forEach:c,count:function(e){return e?(0,t.toChildArray)(e).length:0},only:function(e){var n=(0,t.toChildArray)(e);if(1!==n.length)throw"Children.only";return n[0]},toArray:t.toChildArray},f=t.options.__e;exports.Children=p,t.options.__e=function(e,t,n,r){if(e.then)for(var o,u=t;u=u.__;)if((o=u.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);f(e,t,n,r)};var d=t.options.unmount;function h(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=r({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return h(e,t,n)})),e}function m(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return m(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function v(){this.__u=0,this.t=null,this.__b=null}function y(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function x(e){var n,r,o;function u(u){if(n||(n=e()).then(function(e){r=e.default||e},function(e){o=e}),o)throw o;if(!r)throw n;return(0,t.createElement)(r,u)}return u.displayName="Lazy",u.__f=!0,u}function E(){this.u=null,this.o=null}t.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),d&&d(e)},(v.prototype=new t.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=y(r.__v),u=!1,i=function(){u||(u=!0,n.__R=null,o?o(a):a())};n.__R=i;var a=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=m(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},v.prototype.componentWillUnmount=function(){this.t=[]},v.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=h(this.__b,r,o.__O=o.__P)}this.__b=null}var u=n.__a&&(0,t.createElement)(t.Fragment,null,e.fallback);return u&&(u.__h=null),[(0,t.createElement)(t.Fragment,null,n.__a?null:e.children),u]};var b=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function C(e){return this.getChildContext=function(){return e.context},e.children}function S(e){var n=this,r=e.i;n.componentWillUnmount=function(){(0,t.render)(null,n.l),n.l=null,n.i=null},n.i&&n.i!==r&&n.componentWillUnmount(),e.__v?(n.l||(n.i=r,n.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(e){this.childNodes.push(e),n.i.appendChild(e)},insertBefore:function(e,t){this.childNodes.push(e),n.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),n.i.removeChild(e)}}),(0,t.render)((0,t.createElement)(C,{context:n.context},e.__v),n.l)):n.l&&n.componentWillUnmount()}function O(e,n){var r=(0,t.createElement)(S,{__v:e,i:n});return r.containerInfo=n,r}(E.prototype=new t.Component).__a=function(e){var t=this,n=y(t.__v),r=t.o.get(e);return r[0]++,function(o){var u=function(){t.props.revealOrder?(r.push(o),b(t,e,r)):o()};n?n(u):u()}},E.prototype.render=function(e){this.u=null,this.o=new Map;var n=(0,t.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var r=n.length;r--;)this.o.set(n[r],this.u=[1,0,this.u]);return e.children},E.prototype.componentDidUpdate=E.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){b(e,n,t)})};var R="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,g=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,N="undefined"!=typeof document,P=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function k(e,n,r){return null==n.__k&&(n.textContent=""),(0,t.render)(e,n),"function"==typeof r&&r(),e?e.__c:null}function L(e,n,r){return(0,t.hydrate)(e,n),"function"==typeof r&&r(),e?e.__c:null}t.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(t.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var U=t.options.event;function A(){}function I(){return this.cancelBubble}function T(){return this.defaultPrevented}t.options.event=function(e){return U&&(e=U(e)),e.persist=A,e.isPropagationStopped=I,e.isDefaultPrevented=T,e.nativeEvent=e};var w,D={configurable:!0,get:function(){return this.class}},F=t.options.vnode;t.options.vnode=function(e){var n=e.type,r=e.props,o=r;if("string"==typeof n){var u=-1===n.indexOf("-");for(var i in o={},r){var a=r[i];N&&"children"===i&&"noscript"===n||"value"===i&&"defaultValue"in r&&null==a||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===a?a="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+n)&&!P(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():u&&g.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),o[i]&&(i="oninputCapture")),o[i]=a)}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=(0,t.toChildArray)(r.children).forEach(function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)})),"select"==n&&null!=o.defaultValue&&(o.value=(0,t.toChildArray)(r.children).forEach(function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value})),e.props=o,r.class!=r.className&&(D.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",D))}e.$$typeof=R,F&&F(e)};var M=t.options.__r;t.options.__r=function(e){M&&M(e),w=e.__c};var V=t.options.diffed;t.options.diffed=function(e){V&&V(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),w=null};var j={ReactCurrentDispatcher:{current:{readContext:function(e){return w.__n[e.__c].props.value}}}},W="17.0.2";function $(e){return t.createElement.bind(null,e)}function B(e){return!!e&&e.$$typeof===R}function z(e){return B(e)?t.cloneElement.apply(null,arguments):e}function H(e){return!!e.__k&&((0,t.render)(null,e),!0)}function Y(e){return e&&(e.base||1===e.nodeType&&e)||null}exports.version=W,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j;var q=function(e,t){return e(t)},Z=function(e,t){return e(t)},G=t.Fragment;function J(e){e()}function K(e){return e}function Q(){return[!1,J]}exports.StrictMode=G,exports.flushSync=Z,exports.unstable_batchedUpdates=q;var X=n.useLayoutEffect;function ee(e,t){var r=t(),o=(0,n.useState)({h:{__:r,v:t}}),i=o[0].h,a=o[1];return(0,n.useLayoutEffect)(function(){i.__=r,i.v=t,u(i.__,t())||a({h:i})},[e,r,t]),(0,n.useEffect)(function(){return u(i.__,i.v())||a({h:i}),e(function(){u(i.__,i.v())||a({h:i})})},[e]),r}exports.useInsertionEffect=X;var te={useState:n.useState,useId:n.useId,useReducer:n.useReducer,useEffect:n.useEffect,useLayoutEffect:n.useLayoutEffect,useInsertionEffect:X,useTransition:Q,useDeferredValue:K,useSyncExternalStore:ee,startTransition:J,useRef:n.useRef,useImperativeHandle:n.useImperativeHandle,useMemo:n.useMemo,useCallback:n.useCallback,useContext:n.useContext,useDebugValue:n.useDebugValue,version:"17.0.2",Children:p,render:k,hydrate:L,unmountComponentAtNode:H,createPortal:O,createElement:t.createElement,createContext:t.createContext,createFactory:$,cloneElement:z,createRef:t.createRef,Fragment:t.Fragment,isValidElement:B,findDOMNode:Y,Component:t.Component,PureComponent:i,memo:a,forwardRef:_,flushSync:Z,unstable_batchedUpdates:q,StrictMode:G,Suspense:v,SuspenseList:E,lazy:x,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:j};exports.default=te;
},{"preact":"u8ui","preact/hooks":"qsmZ"}],"PxFf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Modal=f;var e=require("preact/jsx-runtime"),r=o(require("dialog-polyfill")),t=require("preact/compat"),n=require("preact/hooks");function o(e){return e&&e.__esModule?e:{default:e}}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){l(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,o=a(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function a(e,r){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}function f(o){var c=o.children,l=o.close,a=u(o,["children","close"]),f=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=f.current;e&&(r.default.registerDialog(e),e.showModal(),e.addEventListener("close",l))},[l]),(0,t.createPortal)((0,e.jsx)("dialog",i(i({ref:f,"aria-modal":!0},a),{},{children:c})),document.body)}
},{"preact/jsx-runtime":"I8Gw","dialog-polyfill":"gT7M","preact/compat":"oSOp","preact/hooks":"qsmZ"}],"ZN2e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("preact/jsx-runtime"),t=require("preact");function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(null==e)return{};var r,n,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=m();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!=typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(r,n){t.call(navigator,e||{},r,n)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var b=function(r){l(a,t.Component);var i=f(a);function a(e){var t;return c(this,a),(t=i.call(this,e)).canvas=null,t.ctx=null,t.unmounted=!1,t.stream=null,t.video=null,t.state={hasUserMedia:!1},t}return d(a,[{key:"componentDidMount",value:function(){var e=this.state,t=this.props;y()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError("getUserMedia not supported")}},{key:"componentDidUpdate",value:function(e){var t=this.props;if(y()){var r=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),n=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,o=e.minScreenshotHeight!==t.minScreenshotHeight;(n||i||o)&&(this.canvas=null,this.ctx=null),(r||n)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.stopAndCleanup()}},{key:"stopAndCleanup",value:function(){var e=this.state;e.hasUserMedia&&(a.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))}},{key:"getScreenshot",value:function(e){if(!this.state.hasUserMedia)return"";var t=this.getCanvas(e);return t?t.toDataURL():""}},{key:"getCanvas",value:function(e){var t=this.state,r=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var n=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var o=n/i;i=(n=r.minScreenshotWidth||this.video.clientWidth)/o,r.minScreenshotHeight&&i<r.minScreenshotHeight&&(n=(i=r.minScreenshotHeight)*o)}this.canvas=document.createElement("canvas"),this.canvas.width=(null==e?void 0:e.width)||n,this.canvas.height=(null==e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(r.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=!!r.imageSmoothing,a.drawImage(this.video,0,0,(null==e?void 0:e.width)||s.width,(null==e?void 0:e.height)||s.height),r.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s}},{key:"requestUserMedia",value:function(){var e=this,t=this.props,r=function(r,n){var i={video:void 0===n||n};t.audio&&(i.audio=void 0===r||r),navigator.mediaDevices.getUserMedia(i).then(function(t){e.unmounted?a.stopMediaStream(t):e.handleUserMedia(null,t)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)r(t.audioConstraints,t.videoConstraints);else{var n=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===s(t)&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var o=null,a=null;e.forEach(function(e){"audio"===e.kind?o=e.id:"video"===e.kind&&(a=e.id)});var s=i(t.audioConstraints);s&&(o=s);var c=i(t.videoConstraints);c&&(a=c),r(n(o),n(a))})}}},{key:"handleUserMedia",value:function(e,t){var r=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void r.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(n){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}}},{key:"render",value:function(){var t=this,r=this.state,i=this.props,a=i.audio,s=(i.forceScreenshotSourceSize,i.onUserMedia,i.onUserMediaError,i.screenshotFormat,i.screenshotQuality,i.minScreenshotWidth,i.minScreenshotHeight,i.audioConstraints,i.videoConstraints,i.imageSmoothing,i.mirrored),c=o(i,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored"]),u=s?{transform:"scaleX(-1)"}:void 0;return(0,e.jsx)("video",n({autoPlay:!0,src:r.src,muted:a,playsInline:!0,ref:function(e){t.video=e},style:u},c))}}],[{key:"stopMediaStream",value:function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(e){return e.stop()}),e.getAudioTracks().map(function(e){return e.stop()})):e.stop())}}]),a}();exports.default=b;
},{"preact/jsx-runtime":"I8Gw","preact":"u8ui"}],"cgfr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Capture=u;var e=require("preact/jsx-runtime"),r=require("preact/hooks"),t=require("./Modal"),o=n(require("./Webcam"));function n(e){return e&&e.__esModule?e:{default:e}}var a={facingMode:"environment"};function u(n){var u=n.onCapture,i=(0,r.useRef)(),c=(0,r.useCallback)(function(){var e=i.current;e&&u(e.getScreenshot())},[]),l=(0,r.useCallback)(function(){u("")},[]);return(0,e.jsxs)(t.Modal,{close:l,"aria-labelled-by":"capture-modal-title",children:[(0,e.jsx)("h2",{id:"capture-modal-title",children:"Take photo"}),(0,e.jsx)(o.default,{audio:!1,ref:i,screenshotFormat:"image/jpeg",onUserMediaError:alert,videoConstraints:a,forceScreenshotSourceSize:!0}),(0,e.jsxs)("nav",{children:[(0,e.jsx)("button",{type:"button",onClick:c,children:"Save"}),(0,e.jsx)("button",{type:"button",onClick:l,children:"Cancel"})]})]})}
},{"preact/jsx-runtime":"I8Gw","preact/hooks":"qsmZ","./Modal":"PxFf","./Webcam":"ZN2e"}],"wp4r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortNumeric=r,exports.hexToRgb=t,exports.rgbToLuma=u,exports.useCheckbox=n,exports.useRange=o;var e=require("preact/hooks");function r(e,r){return e-r}function t(e){var r=parseInt(e.replace("#","0x"));return[(r>>16&255)/255,(r>>8&255)/255,(255&r)/255]}function u(e,r,t){return.2126*e+.7152*r+.0722*t}function n(r){return(0,e.useCallback)(function(e){r(e.currentTarget.checked)},[r])}function o(r){return(0,e.useCallback)(function(e){""!==e.currentTarget.value&&r(parseFloat(e.currentTarget.value))},[r])}
},{"preact/hooks":"qsmZ"}],"hN9c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cutout=s;var e=require("preact/jsx-runtime"),t=require("preact/hooks"),r=require("./Modal"),n=require("./utils");function u(e,t){return l(e)||c(e,t)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,u=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){u=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(u)throw i}}return r}}function l(e){if(Array.isArray(e))return e}function s(i){var o=i.srcInput,a=i.onCutout,c=u((0,t.useState)(o),2),l=c[0],s=c[1],h=(0,t.useRef)(),f=(0,t.useRef)(),d=(0,t.useRef)();(0,t.useEffect)(function(){var e=new Image;e.onload=function(){var t=h.current;if(t){var r=f.current;r||(r=t.getContext("2d"),f.current=r),t.width=e.naturalWidth,t.height=e.naturalHeight,r.drawImage(e,0,0,e.naturalWidth,e.naturalHeight)}},e.src=o},[o]),(0,t.useEffect)(function(){var e=h.current;if(e){var t=[];return e.addEventListener("pointerdown",i),e.addEventListener("pointerup",o),function(){e.removeEventListener("pointerdown",i),e.removeEventListener("pointerup",o),e.removeEventListener("pointermove",a)}}function r(t){var r=t.currentTarget.getBoundingClientRect();return[(t.clientX-r.left)/r.width*e.width,(t.clientY-r.top)/r.height*e.height]}function i(n){t.push(r(n)),e.addEventListener("pointermove",a),n.preventDefault()}function o(r){e.removeEventListener("pointermove",a),r.preventDefault();var i=new Image;i.onload=function(){var e=t.map(function(e){var t=u(e,2),r=t[0];t[1];return r}).sort(n.sortNumeric),r=t.map(function(e){var t=u(e,2);t[0];return t[1]}).sort(n.sortNumeric),o=e[0],a=r[0],c=e[e.length-1],l=r[r.length-1];h.current.width=c-o,h.current.height=l-a,f.current.clearRect(0,0,h.current.width,h.current.height),f.current.save(),f.current.beginPath(),f.current.moveTo(t[0][0]-o,t[0][1]-a),t.slice(1).forEach(function(e){var t=u(e,2),r=t[0],n=t[1];f.current.lineTo(r-o,n-a)}),f.current.clip(),f.current.drawImage(i,o,a,h.current.width,h.current.height,0,0,h.current.width,h.current.height),f.current.restore(),t=[],s(h.current.toDataURL())},i.src=l}function a(e){var n=u(r(e),2),i=n[0],o=n[1],a=u(t[t.length-1],2),c=a[0],l=a[1];Math.abs(i-c)+Math.abs(o-l)<25||(t.push([i,o]),f.current.setLineDash([5,5]),f.current.lineWidth=4,f.current.strokeStyle="#000",f.current.lineTo(e.pageX,e.pageY),f.current.beginPath(),f.current.moveTo(c,l),f.current.lineTo(i,o),f.current.stroke(),f.current.lineWidth=3,f.current.strokeStyle="#FFF",f.current.lineTo(e.pageX,e.pageY),f.current.beginPath(),f.current.moveTo(c,l),f.current.lineTo(i,o),f.current.stroke(),e.preventDefault())}},[d,l]);var v=(0,t.useCallback)(function(){a(l)},[l]),p=(0,t.useCallback)(function(){a(o)},[o]);return(0,e.jsxs)(r.Modal,{close:p,"aria-labelled-by":"cutout-modal-title",children:[(0,e.jsx)("h2",{id:"capture-modal-title",children:"Draw cutout"}),(0,e.jsx)("canvas",{draggable:!1,ref:h,src:o}),(0,e.jsxs)("nav",{children:[(0,e.jsx)("button",{onClick:v,children:"save"}),(0,e.jsx)("button",{onClick:p,children:"cancel"})]})]})}
},{"preact/jsx-runtime":"I8Gw","preact/hooks":"qsmZ","./Modal":"PxFf","./utils":"wp4r"}],"fbLS":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}function i(t,e){if(!i.context&&(i.context=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!i.context))throw"No WebGL support";return i.context}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.Texture=exports.Shader=void 0;var h=function(){function e(r,h){t(this,e),this.gl=new i,this.vertSource=r,this.fragSource=h,this.program=this.gl.createProgram();try{this.vertShader=this.compileShader(this.vertSource,this.gl.VERTEX_SHADER),this.fragShader=this.compileShader(this.fragSource,this.gl.FRAGMENT_SHADER)}catch(s){throw this.gl.deleteProgram(this.program),delete this.program,console.error("Couldn't create shader: ",s),s}this.gl.attachShader(this.program,this.vertShader),this.gl.deleteShader(this.vertShader),delete this.vertShader,this.gl.attachShader(this.program,this.fragShader),this.gl.deleteShader(this.fragShader),delete this.fragShader,this.gl.linkProgram(this.program)}return r(e,[{key:"compileShader",value:function(t,e){try{var r=this.gl.createShader(e);if(this.gl.shaderSource(r,t),this.gl.compileShader(r),!this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS))throw this.gl.getShaderInfoLog(r);return r}catch(i){throw console.error("Couldn't compile shader (".concat(e,"): "),t,i),i}}},{key:"useProgram",value:function(){this.gl.useProgram(this.program)}}]),e}();exports.Shader=h;var s=function(){function e(r,h,s){t(this,e),this.gl=new i,this.source=r,this.texture=this.gl.createTexture(),this.bind(h),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,s?this.gl.NEAREST:this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,s?this.gl.NEAREST:this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}return r(e,[{key:"update",value:function(){this.bind(),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"bind",value:function(t){var e=t||this.lastBoundId||0;this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.lastBoundId=e}}]),e}();exports.Texture=s;
},{}],"DniY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Range=c;var e=require("preact/jsx-runtime"),r=require("./utils");function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach(function(r){o(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,o=i(e,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)t=u[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function i(e,r){if(null==e)return{};var t,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)t=u[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}function c(t){var o=t.id,i=t.setValue,c=u(t,["id","setValue"]),p=(0,r.useRange)(i);return(0,e.jsxs)("div",{className:"range",children:[(0,e.jsx)("input",n(n({},c),{},{id:"".concat(o,"-range"),type:"range",onInput:p})),(0,e.jsx)("input",n(n({},c),{},{id:o,type:"number",onInput:p}))]})}
},{"preact/jsx-runtime":"I8Gw","./utils":"wp4r"}],"mo85":[function(require,module,exports) {
"use strict";var t=require("preact/jsx-runtime");require("canvas-toBlob");var e=require("file-saver"),r=require("preact"),n=require("preact/hooks"),o=f(require("../../package.json")),i=require("./Capture"),a=require("./Cutout"),l=h(require("./gl")),u=require("./Range"),s=require("./utils");function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function h(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=n?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){return b(t)||v(t,e)||m(t,e)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){o=!0,i=u}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}}function b(t){if(Array.isArray(t))return t}var x=document.createElement("canvas"),y=x.getContext("2d"),j=document.createElement("canvas");j.width=0,j.height=0;var w=(0,l.default)(j,{alpha:!0,premultipliedAlpha:!1}),C=new l.Shader("\nattribute vec4 position;\nvoid main() {\n\tgl_Position = position;\n}\n","\nprecision mediump float;\nuniform sampler2D tex0;\nuniform vec2 resolution;\nuniform float brightness;\nuniform float contrast;\nuniform float threshold;\nuniform vec3 fill;\nvoid main() {\n\tvec2 coord = gl_FragCoord.xy;\n\tvec2 uv = coord.xy / resolution.xy;\n\tvec4 col = texture2D(tex0, uv);\n\tfloat v = 1.0 - dot(col.rgb / col.a, vec3(0.299, 0.587, 0.114));\n\tv -= brightness;\n\tif (v > 0.0) {\n\t\tv = mix(0.0, contrast, v);\n\t} else {\n\t\tv = 0.0;\n\t}\n\tv = clamp(v, 0.0, 1.0);\n\tif (threshold <= 1.0) {\n\t\tv = step(threshold, v);\n\t}\n\tgl_FragColor = vec4(fill, v);\n}\n"),k=new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),A=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,A),w.bufferData(w.ARRAY_BUFFER,k,w.STATIC_DRAW);var S={position:w.getAttribLocation(C.program,"position"),tex0:w.getUniformLocation(C.program,"tex0"),resolution:w.getUniformLocation(C.program,"resolution"),brightness:w.getUniformLocation(C.program,"brightness"),contrast:w.getUniformLocation(C.program,"contrast"),threshold:w.getUniformLocation(C.program,"threshold"),fill:w.getUniformLocation(C.program,"fill")};w.enableVertexAttribArray(S.position),C.useProgram(),w.vertexAttribPointer(S.position,2,w.FLOAT,!1,0,0),w.clearColor(0,0,0,0),w.uniform1i(S.tex0,0);var F=new l.Texture(new Image,0,!1);function R(){w.drawArrays(w.TRIANGLES,0,k.length/2)}function q(){try{R(),j.toBlob(function(t){try{if(!t)throw new Error("No canvas output found");(0,e.saveAs)(t)}catch(r){console.error(r),window.alert("Something went wrong!\n"+r)}})}catch(t){console.error(t),window.alert("Something went wrong!\n"+t)}}function E(){var e=d((0,n.useState)(1),2),r=e[0],l=e[1],c=d((0,n.useState)(1),2),h=c[0],f=c[1],g=d((0,n.useState)(!1),2),m=g[0],p=g[1],v=d((0,n.useState)(.5),2),b=v[0],C=v[1],k=d((0,n.useState)(""),2),A=k[0],E=k[1],T=d((0,n.useState)("#000000"),2),O=T[0],I=T[1],M=d((0,n.useState)(!0),2),L=M[0],U=M[1],_=(0,n.useRef)(null),D=(0,n.useCallback)(function(t){var e,r;if(null===(r=null===(e=t.currentTarget)||void 0===e?void 0:e.files)||void 0===r?void 0:r[0]){var n=new FileReader;n.onload=function(){var t,e;E(null!==(e=null===(t=n.result)||void 0===t?void 0:t.toString())&&void 0!==e?e:"")},n.readAsDataURL(t.currentTarget.files[0])}},[]);(0,n.useEffect)(function(){if(L){var t=new Image;t.onload=function(){x.width=Math.min(t.naturalWidth,256),x.height=Math.min(t.naturalHeight,256),y.clearRect(0,0,x.width,x.height),y.filter="grayscale() invert()",y.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,x.width,x.height);var e=y.getImageData(0,0,x.width,x.height),r=e.data.filter(function(t,r){return r%4==0&&0!==e.data[r+3]});r.sort(s.sortNumeric);var n=r[Math.floor(r.length/2)]/255,o=Math.sqrt(r.reduce(function(t,e){return t+Math.pow(e/255-n,2)},0)/r.length),i=parseFloat((n+o/2).toFixed(3)),a=parseFloat((1/o).toFixed(3));i==i&&i!==1/0&&i!==-1/0||(i=0),a==a&&a!==1/0&&a!==-1/0||(a=1),l(i),f(a)},t.src=A}},[A,L]),(0,n.useEffect)(function(){w.uniform1f(S.brightness,r),R()},[r]),(0,n.useEffect)(function(){w.uniform1f(S.contrast,h),R()},[h]),(0,n.useEffect)(function(){w.uniform1f(S.threshold,m?b:1/0),R()},[b,m]),(0,n.useEffect)(function(){var t=(0,s.hexToRgb)(O);w.uniform3f(S.fill,t[0],t[1],t[2]),R()},[O]),(0,n.useEffect)(function(){var t=new Image;t.onerror=t.onload=function(){j.width=t.naturalWidth,j.height=t.naturalHeight,w.viewport(0,0,j.width,j.height),w.uniform2f(S.resolution,j.width,j.height),F.source=t,F.update(),F.bind(),R()},t.src=A},[A]),(0,n.useEffect)(function(){var t;null===(t=document.querySelector("#output-img"))||void 0===t||t.appendChild(j)},[]);var P=(0,n.useCallback)(function(){E(""),R(),document.querySelector("#source-file").value=""},[]),B=d((0,n.useState)(!1),2),W=B[0],N=B[1],V=(0,n.useCallback)(function(){return N(!0)},[]),H=(0,n.useCallback)(function(t){t&&E(t),N(!1)},[]),Y=d((0,n.useState)(!1),2),G=Y[0],$=Y[1],z=(0,n.useCallback)(function(){return $(!0)},[]),J=(0,n.useCallback)(function(t){t&&E(t),$(!1)},[]),K=(0,s.useCheckbox)(U),Q=(0,s.useCheckbox)(p),X=(0,n.useCallback)(function(t){I(t.currentTarget.value)},[]),Z=(0,n.useCallback)(function(){var t=document.documentElement.dataset.theme||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.dataset.theme="dark"===t?"light":"dark"},[]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("main",{children:[(0,t.jsx)("h1",{children:"sketch-to-lineart"}),(0,t.jsx)("label",{htmlFor:"source-file",children:"source:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("input",{id:"source-file",type:"file",accept:"image/*",onChange:D})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{type:"button",onClick:V,children:"Take photo"})})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("label",{htmlFor:"auto",title:"Automatically set brightness/contrast",children:"auto:"}),(0,t.jsx)("input",{id:"auto",title:"Automatically set brightness/contrast",type:"checkbox",checked:L,onChange:K}),!L&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:"brightness",children:"brightness:"}),(0,t.jsx)(u.Range,{id:"brightness",min:0,max:5,step:.001,value:r,setValue:l}),(0,t.jsx)("label",{htmlFor:"contrast",children:"contrast:"}),(0,t.jsx)(u.Range,{id:"contrast",min:1,max:10,step:.001,value:h,setValue:f})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("label",{htmlFor:"use-threshold",title:"Output is fully opaque/fully transparent, with no partially transparent pixels",children:"usethreshold:"}),(0,t.jsx)("input",{id:"use-threshold",title:"Output is fully opaque/fully transparent, with no partially transparent pixels",type:"checkbox",checked:m,onChange:Q}),m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:"threshold",children:"threshold:"}),(0,t.jsx)(u.Range,{id:"threshold",min:0,max:1,step:.001,value:b,setValue:C})]}),(0,t.jsx)("hr",{}),(0,t.jsx)("label",{htmlFor:"fill",children:"fill:"}),(0,t.jsx)("input",{id:"fill",type:"color",value:O,style:{backgroundColor:O},onInput:X}),(0,t.jsx)("hr",{}),(0,t.jsxs)("figure",{children:[(0,t.jsxs)("figcaption",{children:["original"," ",(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{disabled:!A,type:"button",onClick:z,children:"cutout"}),(0,t.jsx)("button",{disabled:!A,type:"button",onClick:P,children:"clear"})]})]}),(0,t.jsx)("img",{alt:"Source image",id:"source-img",src:A,ref:_})]}),(0,t.jsxs)("figure",{children:[(0,t.jsxs)("figcaption",{children:["output"," ",(0,t.jsx)("button",{type:"button",onClick:q,children:"save"})]}),(0,t.jsx)("div",{id:"output-img",className:s.rgbToLuma.apply(void 0,(0,s.hexToRgb)(O))>.5?"invert":""})]}),W&&(0,t.jsx)(i.Capture,{onCapture:H}),G&&(0,t.jsx)(a.Cutout,{srcInput:A,onCutout:J})]}),(0,t.jsxs)("footer",{children:[(0,t.jsx)("button",{id:"toggle-theme",type:"button",onClick:Z,title:"Toggle theme",children:"Toggle theme"}),"v",o.default.version]})]})}(0,r.render)((0,t.jsx)(E,{}),document.body);
},{"preact/jsx-runtime":"I8Gw","canvas-toBlob":"EQlm","file-saver":"i0aF","preact":"u8ui","preact/hooks":"qsmZ","../../package.json":"ucH8","./Capture":"cgfr","./Cutout":"hN9c","./gl":"fbLS","./Range":"DniY","./utils":"wp4r"}]},{},["mo85"], null)